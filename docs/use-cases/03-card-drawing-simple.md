# ä½¿ç”¨æ¡ˆä¾‹ 03ï¼šç°¡æ˜“æŠ½å¡ç³»çµ±ï¼ˆç´”å±•ç¤ºï¼‰

## ğŸ“‹ åŸºæœ¬è³‡è¨Š

**ä½¿ç”¨æ¡ˆä¾‹åç¨±**ï¼šç°¡æ˜“æŠ½å¡ç³»çµ±ï¼ˆç´”å±•ç¤ºï¼‰
**ä½¿ç”¨æ¡ˆä¾‹ ID**ï¼šUC-03
**é é¢**ï¼š`card-simple.html`
**å„ªå…ˆç´š**ï¼šä¸­
**ç‹€æ…‹**ï¼šå·²å¯¦ä½œ

## ğŸ¯ æ¦‚è¿°

ä½¿ç”¨è€…è¨ªå•é é¢æŠ½å–éš¨æ©Ÿå¡ç‰‡ï¼Œç³»çµ±é¡¯ç¤ºéš¨æ©Ÿåœ–ç‰‡èˆ‡æ–‡å­—ã€‚èˆ‡ UC-02 ä¸åŒçš„æ˜¯ï¼Œæœ¬ç‰ˆæœ¬**ç„¡ä¸­çæ©Ÿåˆ¶**ã€**ç„¡è¯çµ¡è¡¨å–®**ï¼Œæ–‡å­—**ä¸å¯é»æ“Š**ï¼Œç´”ç²¹ç”¨æ–¼å±•ç¤ºéš¨æ©Ÿå…§å®¹ã€‚é©åˆç”¨æ–¼ã€Œæ¯æ—¥ä¸€å¥ã€ã€ã€Œå¿ƒéˆé›æ¹¯ã€ç­‰ä¸éœ€çå“ç™¼æ”¾çš„å ´æ™¯ã€‚

## ğŸ‘¥ åƒèˆ‡è€…

- **ä¸»è¦åƒèˆ‡è€…**ï¼šæƒ³è¦æŠ½å–éš¨æ©Ÿæ–‡å­—çš„ä½¿ç”¨è€…
- **æ¬¡è¦åƒèˆ‡è€…**ï¼šç³»çµ±ç®¡ç†å“¡ï¼ˆç®¡ç† Google è©¦ç®—è¡¨å…§å®¹ï¼‰

## ğŸ¬ å‰ç½®æ¢ä»¶

- ä½¿ç”¨è€…å¯è¨ªå• card-simple.html
- Google è©¦ç®—è¡¨å¯æ­£å¸¸å­˜å–ï¼ˆæˆ–ä½¿ç”¨é™ç´šæ¨¡å¼ï¼‰
- ç€è¦½å™¨æ”¯æ´ LocalStorageã€Canvasã€WebGL ç­‰ API

## âœ… å¾Œç½®æ¢ä»¶

### æˆåŠŸæƒ…å¢ƒ
- ä½¿ç”¨è€…çœ‹åˆ°éš¨æ©Ÿå¡ç‰‡èˆ‡æ–‡å­—
- é€Ÿç‡é™åˆ¶è¨˜éŒ„å·²æ›´æ–°

### å¤±æ•—æƒ…å¢ƒ
- ä½¿ç”¨è€…è¢«é€Ÿç‡é™åˆ¶é˜»æ“‹ï¼Œçœ‹åˆ°å†·å»å€’æ•¸è¨ˆæ™‚

## ğŸ“ ä¸»è¦æµç¨‹

```mermaid
flowchart TD
    A[ä½¿ç”¨è€…é–‹å•Ÿ card-simple.html] --> B[é¡¯ç¤ºè¼‰å…¥å‹•ç•«]
    B --> C[ç”Ÿæˆè£ç½®æŒ‡ç´‹]
    C --> D[æª¢æŸ¥é€Ÿç‡é™åˆ¶]
    D --> E{æ˜¯å¦åœ¨å†·å»æœŸï¼Ÿ}
    E -->|æ˜¯| F[é¡¯ç¤ºå†·å»å€’æ•¸]
    E -->|å¦| G[å¾ Google Sheets è¼‰å…¥æ–‡å­—]
    G --> H[é¸æ“‡éš¨æ©Ÿåœ–ç‰‡]
    H --> I[ä»¥æ©Ÿç‡æ¬Šé‡é¸æ“‡æ–‡å­—]
    I --> J[é¡¯ç¤ºå¡ç‰‡]
    J --> K[è¨˜éŒ„æŠ½å¡æ™‚é–“]
    K --> L[çµæŸ]
    F --> M[ç­‰å¾…å†·å»çµæŸ]
    M --> N[è‡ªå‹•é‡æ–°æ•´ç†]
    N --> A
```

### è©³ç´°æ­¥é©Ÿ

#### èˆ‡ UC-02 ç›¸åŒçš„éƒ¨åˆ†

1. **é é¢è¼‰å…¥**ï¼ˆåŒ UC-02ï¼‰
2. **è£ç½®æŒ‡ç´‹ç”Ÿæˆ**ï¼ˆåŒ UC-02ï¼‰
3. **é€Ÿç‡é™åˆ¶æª¢æŸ¥**ï¼ˆåŒ UC-02ï¼‰
4. **è¼‰å…¥æ–‡å­—è³‡æ–™**ï¼ˆåŒ UC-02ï¼Œä½†**å¿½ç•¥ won æ¬„ä½**ï¼‰
5. **é¸æ“‡å¡ç‰‡å…ƒç´ **ï¼ˆåŒ UC-02ï¼‰
6. **é¡¯ç¤ºå¡ç‰‡**ï¼ˆåŒ UC-02ï¼‰
7. **è¨˜éŒ„æŠ½å¡æ™‚é–“**ï¼ˆåŒ UC-02ï¼‰

#### ç°¡åŒ–çš„éƒ¨åˆ†

**çœç•¥çš„æ­¥é©Ÿ**ï¼š
- âŒ åˆ¤æ–·ä¸­çç‹€æ…‹
- âŒ æ–‡å­—è®Šç‚ºå¯é»æ“Š
- âŒ é–‹å•Ÿè¯çµ¡è¡¨å–®
- âŒ æ”¶é›†ä½¿ç”¨è€…è³‡æ–™

**ç°¡åŒ–è™•ç†**ï¼š
- æ–‡å­—å§‹çµ‚ç‚ºé»‘è‰²
- æ–‡å­—ä½¿ç”¨ `<div>` è€Œé `<a>` æ¨™ç±¤
- ç„¡ä»»ä½•é»æ“Šäº’å‹•
- cursor ä¿æŒé è¨­ï¼ˆdefaultï¼‰

## ğŸ”€ æ›¿ä»£æµç¨‹

### 3a. ä½¿ç”¨è€…åœ¨å†·å»æœŸå…§è¨ªå•
ï¼ˆåŒ UC-02ï¼‰

### 4a. Google Sheets è¼‰å…¥å¤±æ•—
ï¼ˆåŒ UC-02ï¼‰

## ğŸ†š èˆ‡ UC-02 çš„å·®ç•°å°ç…§

| é …ç›® | UC-02 (card.html) | UC-03 (card-simple.html) |
|------|-------------------|--------------------------|
| **åŠŸèƒ½ç›®çš„** | æŠ½çæ´»å‹• | ç´”å±•ç¤ºå…§å®¹ |
| **ä¸­çæ©Ÿåˆ¶** | âœ… æœ‰ | âŒ ç„¡ |
| **è¯çµ¡è¡¨å–®** | âœ… æœ‰ | âŒ ç„¡ |
| **æ–‡å­—é»æ“Š** | âœ… ä¸­çæ™‚å¯é»æ“Š | âŒ æ°¸ä¸å¯é»æ“Š |
| **è©¦ç®—è¡¨æ¬„ä½** | text, probability, won | text, probabilityï¼ˆå¿½ç•¥ wonï¼‰ |
| **HTML å…ƒç´ ** | `<a id="textOverlay">` | `<div id="textOverlay">` |
| **CSS æª”æ¡ˆ** | card.css | card-simple.css |
| **JS æª”æ¡ˆ** | card.js (1824 è¡Œ) | card-simple.js (1147 è¡Œ) |
| **ContactFormManager** | âœ… æœ‰ | âŒ ç§»é™¤ |
| **é˜²åˆ·ç³»çµ±** | âœ… æœ‰ | âœ… æœ‰ï¼ˆç›¸åŒï¼‰ |
| **æ©Ÿç‡æ¬Šé‡** | âœ… æœ‰ | âœ… æœ‰ï¼ˆç›¸åŒï¼‰ |
| **è¼‰å…¥å‹•ç•«** | âœ… æœ‰ | âœ… æœ‰ï¼ˆç›¸åŒï¼‰ |
| **å†·å»æ™‚é–“** | 1 å°æ™‚ | 1 å°æ™‚ï¼ˆç›¸åŒï¼‰ |
| **Dev æ¨¡å¼** | âœ… æ”¯æ´ | âœ… æ”¯æ´ï¼ˆç›¸åŒï¼‰ |

## ğŸ¨ ä»‹é¢å…ƒç´ 

### èˆ‡ UC-02 ç›¸åŒ
- å¡ç‰‡é¡¯ç¤ºæ¨£å¼
- è¼‰å…¥å‹•ç•«
- å†·å»æç¤ºè¦–çª—

### ç§»é™¤çš„å…ƒç´ 
- âŒ è¯çµ¡è¡¨å–®æ¨¡æ…‹è¦–çª—
- âŒ è¡¨å–®æ¬„ä½èˆ‡é©—è­‰
- âŒ é€å‡ºæŒ‰éˆ•èˆ‡è¼‰å…¥ç‹€æ…‹
- âŒ æˆåŠŸ/å¤±æ•—è¨Šæ¯

### ç°¡åŒ–çš„å…ƒç´ 
- æ–‡å­—ç–ŠåŠ ï¼š
  - ç„¡ `winner-link` class
  - ç„¡ hover æ•ˆæœ
  - ç„¡åº•ç·š
  - cursor: default

## ğŸ’¾ è³‡æ–™çµæ§‹

### Google è©¦ç®—è¡¨æ ¼å¼ï¼ˆç°¡åŒ–ï¼‰

**è©¦ç®—è¡¨ ID**ï¼š`1ecyT2EcO6shL61eaANXyIS4izuQPlL4eWwJt07GwHPE`
**å·¥ä½œè¡¨**ï¼šgid=0ï¼ˆé‡‘å¥ï¼‰

| æ¬„ä½ A | æ¬„ä½ B | æ¬„ä½ Cï¼ˆå¿½ç•¥ï¼‰ |
|--------|--------|---------------|
| ä»Šå¤©å¾ˆé–‹å¿ƒ | 0.3 | ä»»æ„å€¼ |
| æ˜¨å¤©å¾ˆç¾å¥½ | 0.2 | ä»»æ„å€¼ |
| å¾ˆæœŸå¾…æ˜å¤© | 0.25 | ä»»æ„å€¼ |
| æœƒæ˜¯ä¸€å€‹å¥½å¹´çš„ï¼ | 0.25 | ä»»æ„å€¼ |

- **åƒ…ä½¿ç”¨æ¬„ä½ A èˆ‡ B**
- **æ¬„ä½ C å®Œå…¨å¿½ç•¥**ï¼Œå³ä½¿è¨­ç‚º 1 ä¹Ÿä¸æœƒæœ‰ä¸­çæ•ˆæœ

### JavaScript è³‡æ–™çµæ§‹

**é™ç´šæ–‡å­—**ï¼ˆç„¡ won æ¬„ä½ï¼‰ï¼š
```javascript
const fallbackTexts = [
    { text: "ä»Šå¤©å¾ˆé–‹å¿ƒ", probability: 0.2 },
    { text: "æ˜¨å¤©å¾ˆç¾å¥½", probability: 0.2 },
    { text: "å¾ˆæœŸå¾…æ˜å¤©", probability: 0.2 },
    { text: "é€™å…©å¤©éƒ½æ˜¯å¥½å¤©æ°£", probability: 0.2 },
    { text: "æœƒæ˜¯ä¸€å€‹å¥½å¹´çš„ï¼", probability: 0.2 }
];
```

### CSV è§£æå·®ç•°

**card.js**ï¼ˆè§£æ 3 æ¬„ï¼‰ï¼š
```javascript
const text = parts[0];
const probability = parseFloat(parts[1]);
const won = parseInt(parts[2]);
textsFromSheet.push({ text, probability, won });
```

**card-simple.js**ï¼ˆåƒ…è§£æ 2 æ¬„ï¼‰ï¼š
```javascript
const text = parts[0];
const probability = parseFloat(parts[1]);
textsFromSheet.push({ text, probability });
// å®Œå…¨ä¸è™•ç† parts[2]
```

## ğŸ¯ é©ç”¨å ´æ™¯

### é©åˆä½¿ç”¨ card-simple.html çš„æƒ…å¢ƒ

âœ… **æ¯æ—¥ä¸€å¥**
- å±•ç¤ºå‹µå¿—èªéŒ„
- ç„¡éœ€çå“ç™¼æ”¾
- å–®ç´”æä¾›æ­£èƒ½é‡

âœ… **å¿ƒéˆé›æ¹¯**
- éš¨æ©Ÿé¡¯ç¤ºé¼“å‹µæ–‡å­—
- å¢åŠ ç¶²ç«™äº’å‹•æ€§
- ç„¡å•†æ¥­ç›®çš„

âœ… **å“ç‰Œæ¨™èªå±•ç¤º**
- å±•ç¤ºå“ç‰Œç†å¿µ
- éš¨æ©Ÿè¼ªæ’­æ¨™èª
- æå‡å“ç‰Œå½¢è±¡

âœ… **è¶£å‘³äº’å‹•**
- ä»Šæ—¥é‹å‹¢
- éš¨æ©Ÿå»ºè­°
- å¨›æ¨‚æ€§è³ªå…§å®¹

### ä¸é©åˆçš„æƒ…å¢ƒ

âŒ **éœ€è¦ä¸­çæ©Ÿåˆ¶**
â†’ è«‹ä½¿ç”¨ card.html (UC-02)

âŒ **éœ€è¦æ”¶é›†ä½¿ç”¨è€…è³‡æ–™**
â†’ è«‹ä½¿ç”¨ card.html (UC-02) æˆ– campaign.html (UC-01)

âŒ **éœ€è¦é»æ“Šé€£çµåˆ°å…¶ä»–é é¢**
â†’ éœ€ä¿®æ”¹ç¨‹å¼ç¢¼ï¼ŒåŠ å…¥ URL æ¬„ä½

## ğŸ”§ ç¨‹å¼ç¢¼å·®ç•°

### ç§»é™¤çš„é¡åˆ¥
```javascript
// card.js æœ‰ï¼Œcard-simple.js ç§»é™¤
class ContactFormManager { /* 438 è¡Œ */ }
```

### ç§»é™¤çš„è®Šæ•¸
```javascript
// card.js æœ‰
let contactFormManager = null;

// card-simple.js ç§»é™¤æ­¤è®Šæ•¸
```

### ç°¡åŒ–çš„å‡½å¼

**card.js çš„ initializeCard()**ï¼š
```javascript
function initializeCard() {
    // ...é¸æ“‡åœ–ç‰‡èˆ‡æ–‡å­—...

    // åˆ¤æ–·ä¸­ç
    if (randomText.won === 1) {
        textOverlay.href = '#';
        textOverlay.classList.add('winner-link');
        textOverlay.onclick = function(e) {
            e.preventDefault();
            if (contactFormManager) {
                contactFormManager.showForm();
            }
        };
    } else {
        textOverlay.onclick = function(e) { e.preventDefault(); };
    }
}
```

**card-simple.js çš„ initializeCard()**ï¼š
```javascript
function initializeCard() {
    // ...é¸æ“‡åœ–ç‰‡èˆ‡æ–‡å­—...

    // ç›´æ¥é¡¯ç¤ºï¼Œç„¡ä»»ä½•é»æ“Šé‚è¼¯
    textOverlay.textContent = randomText.text;
}
```

## ğŸ§ª æ¸¬è©¦æ¡ˆä¾‹

### TC-01: é¦–æ¬¡è¨ªå•æˆåŠŸæŠ½å¡
ï¼ˆåŒ UC-02 TC-01ï¼‰

### TC-02: ä¸€å°æ™‚å…§é‡è¤‡è¨ªå•
ï¼ˆåŒ UC-02 TC-02ï¼‰

### TC-03: é©—è­‰æ–‡å­—ä¸å¯é»æ“Š
1. æ¸…é™¤ LocalStorage
2. è¨ªå• card-simple.html
3. ç­‰å¾…å¡ç‰‡é¡¯ç¤º
4. å˜—è©¦é»æ“Šæ–‡å­—
5. **é æœŸ**ï¼šç„¡ä»»ä½•åæ‡‰ï¼Œcursor ç‚ºé è¨­æ¨£å¼

### TC-04: é©—è­‰å¿½ç•¥ won æ¬„ä½
1. è¨­å®šè©¦ç®—è¡¨æŸæ–‡å­— `won=1`
2. æ¸…é™¤å¿«å–
3. è¨ªå• card-simple.html
4. å¤šæ¬¡æŠ½å¡ç›´åˆ°æŠ½ä¸­è©²æ–‡å­—
5. **é æœŸ**ï¼šæ–‡å­—ç‚ºé»‘è‰²ï¼Œä¸å¯é»æ“Š

### TC-05: Dev æ¨¡å¼æ¸¬è©¦
ï¼ˆåŒ UC-02 TC-05ï¼‰

### TC-06: Google Sheets æ•…éšœé™ç´š
ï¼ˆåŒ UC-02 TC-06ï¼‰

## ğŸ“Š æ•ˆèƒ½æ¯”è¼ƒ

| æŒ‡æ¨™ | card.html | card-simple.html |
|------|-----------|------------------|
| **HTML å¤§å°** | 3,901 bytes | 537 bytes |
| **CSS å¤§å°** | ~18KB | ~10KB |
| **JS å¤§å°** | ~60KB | ~38KB |
| **DOM å…ƒç´ ** | ~50 å€‹ | ~15 å€‹ |
| **åˆå§‹è¼‰å…¥æ™‚é–“** | ~3 ç§’ | ~3 ç§’ï¼ˆç›¸åŒï¼‰ |
| **è¨˜æ†¶é«”ä½¿ç”¨** | è¼ƒé«˜ | è¼ƒä½ |

## ğŸ”— ç›¸é—œæ–‡ä»¶

- [æŠ½å¡ç³»çµ±ï¼ˆå«ä¸­çï¼‰(UC-02)](02-card-drawing-with-prizes.md) - å®Œæ•´ç‰ˆæœ¬
- [é˜²åˆ·æ©Ÿåˆ¶ (UC-04)](04-rate-limiting.md)
- [Google è©¦ç®—è¡¨ç®¡ç† (UC-05)](05-google-sheets-management.md)
- [æŠ€è¡“æ¶æ§‹](../technical-architecture.md)

## ğŸ’¡ å‡ç´šå»ºè­°

è‹¥æœªä¾†éœ€è¦å¾ card-simple.html å‡ç´šåˆ° card.htmlï¼š

1. **è¤‡è£½æª”æ¡ˆ**
   ```bash
   cp card-simple.html card.html
   cp css/card-simple.css css/card.css
   cp js/card-simple.js js/card.js
   ```

2. **HTML ä¿®æ”¹**
   - å°‡ `<div id="textOverlay">` æ”¹ç‚º `<a id="textOverlay">`
   - åŠ å…¥è¯çµ¡è¡¨å–® HTMLï¼ˆ17-76 è¡Œï¼‰
   - æ›´æ–° CSS/JS æª”æ¡ˆè·¯å¾‘

3. **CSS ä¿®æ”¹**
   - åŠ å…¥ `.winner-link` æ¨£å¼
   - åŠ å…¥ `.contact-form-*` æ¨£å¼

4. **JavaScript ä¿®æ”¹**
   - åŠ å…¥ `ContactFormManager` é¡åˆ¥
   - ä¿®æ”¹ CSV è§£æï¼Œè™•ç† won æ¬„ä½
   - ä¿®æ”¹ `initializeCard()`ï¼ŒåŠ å…¥ä¸­çåˆ¤æ–·
   - åˆå§‹åŒ– `contactFormManager`

---

**æœ€å¾Œæ›´æ–°**ï¼š2025-10-05
